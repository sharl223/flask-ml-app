<!DOCTYPE html>
<html lang="ja" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- Primary Meta Tags -->
    <title>{% block title %}AI Playground - 機械学習を簡単に体験 / Easy Machine Learning Experience{% endblock %}</title>
    <meta name="title" content="{% block meta_title %}AI Playground - 機械学習を簡単に体験 / Easy Machine Learning Experience{% endblock %}">
    <meta name="description" content="{% block meta_description %}初心者でも簡単に機械学習を体験できるWebアプリ。線形回帰、ロジスティック回帰、LightGBM、CSV加工集計をブラウザで実行。日本語・英語対応。Easy machine learning web app for beginners. Try linear regression, logistic regression, LightGBM, and CSV processing in your browser. Japanese and English support.{% endblock %}">
    <meta name="keywords" content="{% block meta_keywords %}機械学習, 機械学習アプリ, 線形回帰, ロジスティック回帰, LightGBM, CSV加工, データ分析, AI, 機械学習初心者, machine learning, linear regression, logistic regression, data analysis, AI, beginner friendly{% endblock %}">
    <meta name="author" content="AI Playground">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <meta name="language" content="ja, en">
    <meta name="revisit-after" content="7 days">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ request.url }}">
    <meta property="og:title" content="{% block og_title %}AI Playground - 機械学習を簡単に体験{% endblock %}">
    <meta property="og:description" content="{% block og_description %}初心者でも簡単に機械学習を体験できるWebアプリ。線形回帰、ロジスティック回帰、LightGBM、CSV加工集計をブラウザで実行。{% endblock %}">
    <meta property="og:image" content="{% block og_image %}{{ url_for('static', filename='favicon-32x32.png', _external=True) }}{% endblock %}">
    <meta property="og:image:width" content="32">
    <meta property="og:image:height" content="32">
    <meta property="og:site_name" content="AI Playground">
    <meta property="og:locale" content="ja_JP">
    <meta property="og:locale:alternate" content="en_US">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary">
    <meta property="twitter:url" content="{{ request.url }}">
    <meta property="twitter:title" content="{% block twitter_title %}AI Playground - 機械学習を簡単に体験{% endblock %}">
    <meta property="twitter:description" content="{% block twitter_description %}初心者でも簡単に機械学習を体験できるWebアプリ。線形回帰、ロジスティック回帰、LightGBM、CSV加工集計をブラウザで実行。{% endblock %}">
    <meta property="twitter:image" content="{% block twitter_image %}{{ url_for('static', filename='favicon-32x32.png', _external=True) }}{% endblock %}">
    
    <!-- Additional SEO Meta Tags -->
    <meta name="theme-color" content="#667eea">
    <meta name="msapplication-TileColor" content="#667eea">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="AI Playground">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="{{ request.url }}">
    
    <!-- Alternate Languages -->
    <link rel="alternate" hreflang="ja" href="{{ request.url }}">
    <link rel="alternate" hreflang="en" href="{{ request.url }}">
    <link rel="alternate" hreflang="x-default" href="{{ request.url }}">
    
    <!-- Preconnect to external domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    
    <!-- DNS Prefetch -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='apple-touch-icon.png') }}">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='favicon-32x32.png') }}">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ url_for('static', filename='favicon-16x16.png') }}">
    <link rel="manifest" href="{{ url_for('static', filename='site.webmanifest') }}">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="{{ url_for('static', filename='style.css') }}" rel="stylesheet">
    
    <!-- Structured Data / JSON-LD -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "AI Playground",
        "description": "初心者でも簡単に機械学習を体験できるWebアプリ。線形回帰、ロジスティック回帰、LightGBM、CSV加工集計をブラウザで実行。",
        "url": "{{ request.url_root }}",
        "applicationCategory": "EducationalApplication",
        "operatingSystem": "Web Browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "author": {
            "@type": "Organization",
            "name": "AI Playground"
        },
        "featureList": [
            "線形回帰 / Linear Regression",
            "ロジスティック回帰 / Logistic Regression", 
            "LightGBM機械学習 / LightGBM Machine Learning",
            "CSV加工集計 / CSV Processing & Aggregation",
            "日本語・英語対応 / Japanese & English Support"
        ],
        "screenshot": "{{ url_for('static', filename='favicon-32x32.png', _external=True) }}",
        "softwareVersion": "1.0.0",
        "inLanguage": ["ja", "en"],
        "accessibilityFeature": ["readingOrder", "structuralNavigation", "tableOfContents"],
        "accessibilityHazard": "none",
        "accessibilityControl": ["fullKeyboardControl", "fullMouseControl"]
    }
    </script>
    
    <!-- Organization Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "AI Playground",
        "url": "{{ request.url_root }}",
        "logo": "{{ url_for('static', filename='favicon-32x32.png', _external=True) }}",
        "description": "初心者向け機械学習Webアプリケーション",
        "sameAs": [
            "https://github.com/your-repo/ai-playground"
        ]
    }
    </script>
    
    <!-- Breadcrumb Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "ホーム / Home",
                "item": "{{ request.url_root }}"
            }
            {% if request.endpoint != 'home' %}
            ,{
                "@type": "ListItem",
                "position": 2,
                "name": "{% block breadcrumb_name %}{% endblock %}",
                "item": "{{ request.url }}"
            }
            {% endif %}
        ]
    }
    </script>
    
    <!-- Performance Optimization -->
    <link rel="preload" href="{{ url_for('static', filename='style.css') }}" as="style">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" as="style">
    
    <!-- Critical CSS Inline -->
    <style>
        /* Critical CSS for above-the-fold content */
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
        .navbar { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .hero-section { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 4rem 0; }
        .btn-primary { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border: none; }
        .card { border-radius: 15px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="bi bi-cpu"></i> AI Playground
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/"><i class="bi bi-house"></i> ホーム / Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/csv_processor"><i class="bi bi-table"></i> CSV加工集計 / CSV Processing</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/linear_regression"><i class="bi bi-graph-up"></i> 線形回帰 / Linear Regression</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/logistic_regression"><i class="bi bi-diagram-3"></i> ロジスティック回帰 / Logistic Regression</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/lgbm_playground"><i class="bi bi-tree"></i> LightGBM</a>
                    </li>
                </ul>
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <form method="POST" action="/reset_all" style="display: inline;">
                            <button type="submit" class="btn btn-outline-light btn-sm" onclick="return confirm('すべてのセッション情報をリセットしますか？ / Reset all session data?')">
                                <i class="bi bi-arrow-clockwise"></i> リセット / Reset
                            </button>
                        </form>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container-fluid py-4">
        {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer class="bg-dark text-light py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5><i class="bi bi-cpu"></i> AI Playground</h5>
                    <p class="mb-0">初心者向け機械学習Webアプリケーション / Beginner-friendly Machine Learning Web Application</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p class="mb-0">
                        <small>
                            <a href="/sitemap.xml" class="text-light">サイトマップ / Sitemap</a> | 
                            <a href="/privacy" class="text-light">プライバシーポリシー / Privacy Policy</a> | 
                            <a href="/terms" class="text-light">利用規約 / Terms of Service</a>
                        </small>
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Performance Monitoring -->
    <script>
        // Performance monitoring
        window.addEventListener('load', function() {
            if ('performance' in window) {
                const perfData = performance.getEntriesByType('navigation')[0];
                if (perfData.loadEventEnd > 0) {
                    console.log('Page load time:', perfData.loadEventEnd - perfData.loadEventStart, 'ms');
                }
            }
        });
    </script>
    
    <!-- Additional SEO Scripts -->
    <script>
        // Structured data for current page
        document.addEventListener('DOMContentLoaded', function() {
            // Add page-specific structured data here if needed
        });
    </script>
</body>
</html>